import{c as k,j as e,a as v,u as f,r as h,p as E,q as A,t as N,P as C}from"./index-C3-qo20y.js";/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M10.513 4.856 13.12 2.17a.5.5 0 0 1 .86.46l-1.377 4.317",key:"193nxd"}],["path",{d:"M15.656 10H20a1 1 0 0 1 .78 1.63l-1.72 1.773",key:"27a7lr"}],["path",{d:"M16.273 16.273 10.88 21.83a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14H4a1 1 0 0 1-.78-1.63l4.507-4.643",key:"1e0qe9"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],b=k("ZapOff",T);/**
 * @license lucide-react v0.482.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],P=k("Zap",S),D=({value:n,renderLabel:r,className:a,progressClassName:x,labelClassName:g,showLabel:m,shape:j="round",size:s=100,strokeWidth:u,circleStrokeWidth:c=10,progressStrokeWidth:y=10})=>{const l=s/2-10,d=Math.ceil(3.14*l*2),t=Math.ceil(d*((100-n)/100)),o=`-${s*.125} -${s*.125} ${s*1.25} ${s*1.25}`;return e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{width:s,height:s,viewBox:o,version:"1.1",xmlns:"http://www.w3.org/2000/svg",style:{transform:"rotate(-90deg)"},className:"relative",children:[e.jsx("circle",{r:l,cx:s/2,cy:s/2,fill:"transparent",strokeWidth:u??c,strokeDasharray:d,strokeDashoffset:"0",className:v("stroke-primary/25",a)}),e.jsx("circle",{r:l,cx:s/2,cy:s/2,strokeWidth:u??y,strokeLinecap:j,strokeDashoffset:t,fill:"transparent",strokeDasharray:d,className:v("stroke-primary",x)})]}),m&&e.jsx("div",{className:v("absolute inset-0 flex items-center justify-center text-md",g),children:r?r(n):n})]})};function $(){const{energy:n,maxEnergy:r}=f(),a=h.useRef(n);return h.useEffect(()=>{a.current=n},[n,a]),e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(P,{className:"absolute size-7 top-5.5 left-5.5 text-primary",strokeWidth:1.5,fill:"var(--primary)"}),e.jsx(D,{value:n/r*100,size:72,strokeWidth:6})]}),e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsx("span",{className:"text-lg leading-none font-semibold text-primary",children:e.jsx(E,{duration:.75,end:n,separator:"",start:a.current})}),e.jsxs("span",{className:"text-sm leading-none text-muted-foreground",children:["/ ",r]})]})]})}const q="/assets/mining-button-CSqNAFlq.png",B=()=>{const{click:n}=f(),[r,a]=h.useState([]),x=f(t=>t.upgrades),g=f(t=>t.tappingGuruBoost.active),m=x.pointsPerClick.effect*x.pointsPerClick.level*(g?A:1),[j,s]=h.useState(!1),u=()=>s(!0),c=()=>s(!1);function y(t,o){n()?a(p=>[...p,{id:Date.now(),x:t,y:o,pointsToAdd:m}]):(N.dismiss(),N.error("Not enough energy!",{icon:e.jsx(b,{size:20})}),window.Telegram.WebApp.HapticFeedback.notificationOccurred("error"))}function l(t){s(!0);const o=t.currentTarget.getBoundingClientRect();for(let i=0;i<t.touches.length;i++){const p=t.touches[i],w=p.clientX-o.left,M=p.clientY-o.top;y(w,M)}}const d=t=>{a(o=>o.filter(i=>i.id!==t))};return e.jsx("div",{className:"flex-grow flex items-center justify-center",children:e.jsxs("div",{className:"relative mt-4",onMouseDown:u,onMouseUp:c,onMouseLeave:c,onTouchStart:l,onTouchEnd:c,onTouchCancel:c,children:[e.jsx("img",{className:"size-60 select-none",src:q,style:{pointerEvents:"none",userSelect:"none",transform:j?"translateY(4px)":"translateY(0px)",transition:"transform 100ms ease"}}),r.map(t=>e.jsx("div",{className:"absolute text-5xl font-bold opacity-0",style:{top:`${t.y-42}px`,left:`${t.x-28}px`,animation:"float 1s ease-out"},onAnimationEnd:()=>d(t.id),children:m},t.id))]})})},O=function(){return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col items-center mx-auto mt-6",children:[e.jsx("p",{className:"text-muted-foreground",children:"Balance:"}),e.jsx("span",{className:"text-3xl font-bold",children:e.jsx(C,{})})]}),e.jsx("div",{className:"mx-auto my-auto mt-14",children:e.jsx(B,{})}),e.jsx("div",{className:"mt-auto",children:e.jsx($,{})})]})};export{O as component};
